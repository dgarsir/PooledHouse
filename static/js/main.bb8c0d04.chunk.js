(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,t){t.searchParse=function(e,t,a,n,s){var i=new Object;return e.forEach(function(e){var r=new Date(e.shift_date).getDay();if(r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r],("All"==a||r==a)&&("All"==n||e.shift_time==n)&&("All"==s||e.shift_position==s)&&e.business_name.toLowerCase().includes(t.toLowerCase())){var l=e.business_name;if(i.hasOwnProperty(l)){var o=i[l].totalHour+e.shift_length;i[l].tipsPerHour=i[l].tipsPerHour*i[l].totalHour/o+e.takehome/o,i[l].totalHour=o}else i[l]={business:l,neighborhood:e.neighborhood,tipsPerHour:e.takehome/e.shift_length,totalHour:e.shift_length}}}),i}},175:function(e,t,a){e.exports=a.p+"static/media/logo.8e0f60ef.png"},179:function(e,t,a){e.exports=a(421)},184:function(e,t,a){},187:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},421:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(85),r=a.n(i),l=(a(184),a(37)),o=a.n(l),u=a(50),c=a(26),h=a(27),d=a(29),m=a(28),p=a(30),E=a(8),b=(a(187),a(45)),f=a(422),_=a(423),y=a(172),g=a(425),v=a(426),w=a(15),O=a.n(w),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.state={user:"",shift_length:"",shift_time:"AM",shift_date:"",shift_position:"Bartender",takehome:"",business_name:"",business_street_address:"",business_city:"",business_state:"",business_zip:"",neighborhood:""},a.handleChange=a.handleChange.bind(Object(E.a)(Object(E.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(Object(E.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleSubmit",value:function(){var e=Object(u.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={id:Math.floor(1e5*Math.random()),user:this.state.user,shift_length:this.state.shift_length,shift_time:this.state.shift_time,shift_date:this.state.shift_date,shift_position:this.state.shift_position,takehome:this.state.takehome,business_name:this.state.business_name,business_street_address:this.state.business_street_address,business_city:this.state.business_city,business_state:this.state.business_state,business_zip:this.state.business_zip,neighborhood:this.state.neighborhood},console.log(a),e.prev=3,e.next=6,w.API.graphql(Object(w.graphqlOperation)("mutation CreateTipEntry($input: CreateTipEntryInput!) {\n  createTipEntry(input: $input) {\n    id\n    user\n    shift_length\n    shift_time\n    shift_date\n    shift_position\n    takehome\n    business_name\n    business_street_address\n    business_city\n    business_state\n    business_zip\n    neighborhood\n  }\n}\n",{input:a}));case 6:console.log(a),alert("Success!"),this.setState({user:"",shift_length:"",shift_time:"AM",shift_date:"",shift_position:"Bartender",takehome:"",business_name:"",business_street_address:"",business_city:"",business_state:"",business_zip:"",neighborhood:""}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("error creating tipentry: ",e.t0),alert("tipentry failed");case 15:case"end":return e.stop()}},e,this,[[3,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark(function e(){var t,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Auth.currentAuthenticatedUser();case 2:t=e.sent,a=t.username,this.setState({user:a});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=["Battery Park City","Central Harlem","Central Park","Chelsea","Chinatown","City Hall Area","East Village","Ellis Island","Financial District","Flatiron District","Governors Island","Gramercy","Greenwich Village","Hamilton Heights","Hell's Kitchen","Inwood","Kips Bay","Liberty Island","Little Italy","Lower East Side","Marble Hill","Midtown East","Midtown West","Morningside Heights","Murray Hill","NoHo","Nolita","Randall's Island","Roosevelt Island","SoHo","Spanish Harlem","Stuyvesant Town","Tribeca","Two Bridges","Upper East Side","Upper West Side","Washington Heights","West Village"],a=[];t.forEach(function(e){a.push({label:e,value:e})});var n=this.state,i=n.shift_length,r=n.shift_time,l=n.shift_date,o=n.shift_position,u=n.takehome,c=n.business_name,h=n.business_street_address,d=n.business_city,m=n.business_state,p=n.business_zip,E=n.neighborhood;return s.a.createElement("div",null,s.a.createElement(f.a,{fluid:"true"},s.a.createElement(g.a,{className:"text-left newTips"},s.a.createElement(_.a,null,s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlID:"shift_date"},s.a.createElement(g.a.Label,null,"Shift Date"),s.a.createElement(g.a.Control,{type:"date",name:"shift_date",value:l,onChange:this.handleChange}))),s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlId:"shift_time"},s.a.createElement(g.a.Label,null,"Shift Time"),s.a.createElement(g.a.Control,{as:"select",name:"shift_time",value:r,onChange:this.handleChange},s.a.createElement("option",null,"AM"),s.a.createElement("option",null,"PM")))),s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlID:"shift_length"},s.a.createElement(g.a.Label,null,"Shift Length (hours)"),s.a.createElement(g.a.Control,{type:"number",name:"shift_length",value:i,onChange:this.handleChange}))),s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlID:"shift_position"},s.a.createElement(g.a.Label,null,"Position"),s.a.createElement(g.a.Control,{as:"select",name:"shift_position",value:o,onChange:this.handleChange},s.a.createElement("option",null,"Bartender"),s.a.createElement("option",null,"Server"),s.a.createElement("option",null,"Barback"),s.a.createElement("option",null,"Busser"),s.a.createElement("option",null,"Other"))))),s.a.createElement(_.a,null,s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlID:"takehome"},s.a.createElement(g.a.Label,null,"Tip Takehome"),s.a.createElement(g.a.Control,{type:"number",name:"takehome",value:u,onChange:this.handleChange}))),s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlID:"business_name"},s.a.createElement(g.a.Label,null,"Business Name"),s.a.createElement(g.a.Control,{type:"text",placeholder:"i.e. Hot Jim's BBQ",name:"business_name",value:c,onChange:this.handleChange}))),s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlID:"business_street_address"},s.a.createElement(g.a.Label,null,"Street Address"),s.a.createElement(g.a.Control,{type:"text",placeholder:"i.e. 123 E 9th St",name:"business_street_address",value:h,onChange:this.handleChange}))),s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlID:"business_city"},s.a.createElement(g.a.Label,null,"City"),s.a.createElement(g.a.Control,{type:"text",placeholder:"i.e. New York City",name:"business_city",value:d,onChange:this.handleChange}))),s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlID:"business_state"},s.a.createElement(g.a.Label,null,"State"),s.a.createElement(g.a.Control,{type:"text",placeholder:"i.e. NY",name:"business_state",value:m,onChange:this.handleChange}))),s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlID:"business_zip"},s.a.createElement(g.a.Label,null,"Zipcode"),s.a.createElement(g.a.Control,{type:"text",placeholder:"i.e. 11105",name:"business_zip",value:p,onChange:this.handleChange}))),s.a.createElement(y.a,null,s.a.createElement(g.a.Group,{controlID:"neighborhood"},s.a.createElement(g.a.Label,null,"Neighborhood"),s.a.createElement(g.a.Control,{as:"select",name:"neighborhood",value:E,onChange:this.handleChange},t.map(function(e,t){return s.a.createElement("option",{key:t,value:e},e)})),s.a.createElement(v.a,{variant:"primary",type:"submit",onClick:function(t){return e.handleSubmit(t)}},"Add Tips")))))))}}]),t}(s.a.Component),H=a(173),S=a.n(H),T="query ListTipEntrys(\n  $filter: ModelTipEntryFilterInput\n  $limit: Int\n  $nextToken: String\n) {\n  listTipEntrys(filter: $filter, limit: $limit, nextToken: $nextToken) {\n    items {\n      id\n      user\n      shift_length\n      shift_time\n      shift_date\n      shift_position\n      takehome\n      business_name\n      business_street_address\n      business_city\n      business_state\n      business_zip\n      neighborhood\n    }\n    nextToken\n  }\n}\n",P=a(88),j=a(427),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value)),console.log(a.state.day)},a.handleReset=function(){a.setState({day:"All",shift:"All",position:"All"})},a.state={day:"All",shift:"All",position:"All"},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t=window.innerHeight,a=(window.innerWidth,this.state.day),n=this.state.shift,i=this.state.position;return e=Object(P.averageTipsClean)(Object(P.aTBNMasterParse)(this.props.tip_info,this.state.day,this.state.shift,this.state.position)),s.a.createElement(f.a,{fluid:"true"},s.a.createElement(j.a,{bg:"light"},s.a.createElement(j.a.Body,null,s.a.createElement(g.a,{className:"text-left filter"},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{controlID:"day",as:y.a,md:"4"},s.a.createElement(g.a.Label,null,"Day"),s.a.createElement(g.a.Control,{as:"select",name:"day",value:a,onChange:this.handleChange},s.a.createElement("option",null,"All"),s.a.createElement("option",null,"Monday"),s.a.createElement("option",null,"Tuesday"),s.a.createElement("option",null,"Wednesday"),s.a.createElement("option",null,"Thursday"),s.a.createElement("option",null,"Friday"),s.a.createElement("option",null,"Saturday"),s.a.createElement("option",null,"Sunday"))),s.a.createElement(g.a.Group,{conrolID:"shift",as:y.a,md:"4"},s.a.createElement(g.a.Label,null,"Shift"),s.a.createElement(g.a.Control,{as:"select",name:"shift",value:n,onChange:this.handleChange},s.a.createElement("option",null,"All"),s.a.createElement("option",null,"AM"),s.a.createElement("option",null,"PM"))),s.a.createElement(g.a.Group,{controlID:"position",as:y.a,md:"4"},s.a.createElement(g.a.Label,null,"Position"),s.a.createElement(g.a.Control,{as:"select",name:"position",value:i,onChange:this.handleChange},s.a.createElement("option",null,"All"),s.a.createElement("option",null,"Bartender"),s.a.createElement("option",null,"Server"),s.a.createElement("option",null,"Host"),s.a.createElement("option",null,"Busser"),s.a.createElement("option",null,"Other")))),s.a.createElement(_.a,null,s.a.createElement(y.a,{md:"4"}),s.a.createElement(v.a,{as:y.a,md:"4",variant:"primary",type:"reset",onClick:this.handleReset},"Reset Filter"),s.a.createElement(y.a,{md:"4"}))))),s.a.createElement(_.a,null,s.a.createElement(y.a,{md:"1"}),s.a.createElement(y.a,null,s.a.createElement(S.a,{mapboxAccessToken:"pk.eyJ1IjoicG9vbGVkaG91c2UiLCJhIjoiY2p1aGg2N2o5MHozZTRkcDhrZDltMXp6dyJ9.SXu4dBf_bVC8Xlpy7WnYqQ",mapHeight:.75*t,mapWidth:"90%",className:"container",mapboxType:"light",mapCenter:[40.7831,-73.9712],mapZoom:12,mapScrollZoom:!1,neighborhoodOn:!0,tooltip:!0,tooltipSticky:!1,data:e,neighborhoodStyle:{weight:1,opacity:1,color:"#666",dashArray:"3",fillOpacity:.7},neighborhoodHoverStyle:{weight:5,color:"#FFF",dashArray:"1",fillOpacity:.7},excludeNeighborhoods:["Liberty Island","Ellis Island"]})),s.a.createElement(y.a,{md:"1"})))}}]),t}(s.a.Component),A=a(424),M=a(174),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value)),console.log(a.state.day)},a.handleReset=function(){a.setState({day:"All",shift:"All",position:"All"})},a.state={day:"All",shift:"All",position:"All"},a.handleChange=a.handleChange.bind(Object(E.a)(Object(E.a)(a))),a.handleReset=a.handleReset.bind(Object(E.a)(Object(E.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state,t=e.day,a=e.shift,n=e.position,i=this.props.tip_info,r=this.props.search_query,l=Object(M.searchParse)(i,r,this.state.day,this.state.shift,this.state.position),o=s.a.createElement(j.a,{bg:"light"},s.a.createElement(j.a.Body,null,s.a.createElement(g.a,{className:"text-left filter"},s.a.createElement(g.a.Row,null,s.a.createElement(g.a.Group,{controlID:"day",as:y.a,md:"4"},s.a.createElement(g.a.Label,null,"Day"),s.a.createElement(g.a.Control,{as:"select",name:"day",value:t,onChange:this.handleChange},s.a.createElement("option",null,"All"),s.a.createElement("option",null,"Monday"),s.a.createElement("option",null,"Tuesday"),s.a.createElement("option",null,"Wednesday"),s.a.createElement("option",null,"Thursday"),s.a.createElement("option",null,"Friday"),s.a.createElement("option",null,"Saturday"),s.a.createElement("option",null,"Sunday"))),s.a.createElement(g.a.Group,{conrolID:"shift",as:y.a,md:"4"},s.a.createElement(g.a.Label,null,"Shift"),s.a.createElement(g.a.Control,{as:"select",name:"shift",value:a,onChange:this.handleChange},s.a.createElement("option",null,"All"),s.a.createElement("option",null,"AM"),s.a.createElement("option",null,"PM"))),s.a.createElement(g.a.Group,{controlID:"position",as:y.a,md:"4"},s.a.createElement(g.a.Label,null,"Position"),s.a.createElement(g.a.Control,{as:"select",name:"position",value:n,onChange:this.handleChange},s.a.createElement("option",null,"All"),s.a.createElement("option",null,"Bartender"),s.a.createElement("option",null,"Server"),s.a.createElement("option",null,"Host"),s.a.createElement("option",null,"Busser"),s.a.createElement("option",null,"Other")))),s.a.createElement(_.a,null,s.a.createElement(y.a,{md:"4"}),s.a.createElement(v.a,{as:y.a,md:"4",variant:"primary",type:"reset",onClick:this.handleReset},"Reset Filter"),s.a.createElement(y.a,{md:"4"})))));return 0==Object.keys(l).length?s.a.createElement(f.a,{fluid:!0},s.a.createElement("div",null,o,s.a.createElement("p",null,"No results found."))):s.a.createElement(f.a,{fluid:!0},s.a.createElement("div",null,o,s.a.createElement(A.a,null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Business"),s.a.createElement("th",null,"Neighborhood"),s.a.createElement("th",null,"Hourly Avg $"))),s.a.createElement("tbody",null,Object.keys(l).map(function(e){return s.a.createElement("tr",null,s.a.createElement("td",null,l[e].business),s.a.createElement("td",null,l[e].neighborhood),s.a.createElement("td",null,Math.floor(l[e].tipsPerHour)))})))))}}]),t}(s.a.Component),B=a(90),N=a.n(B),V=a(176),F=a.n(V),I=a(87),D=a.n(I),x=a(47),q=a.n(x),G=a(178),z=a.n(G),W=a(177),R=a.n(W),$=function(e){return e.tipInfo.filter(function(t){return t.user===e.user}).map(function(e,t){return s.a.createElement("div",{className:"tipInfo"},s.a.createElement("h2",{className:"busTitle"},e.business_name),s.a.createElement("div",{className:"addr"},e.business_address),s.a.createElement("div",null,"Position: ",e.shift_position),s.a.createElement("div",null,"Tips : $",e.takehome),s.a.createElement("div",null,"Hours Worked : ",e.shift_length),s.a.createElement("div",null,"Work Shift : ",e.shift_time),s.a.createElement("div",null,"Date : ",e.shift_date))})},U=function(e){var t="All Position"!==e.position?e.tipInfo.filter(function(t){return t.shift_position===e.position}):e.tipInfo;return console.log(function(e){var t={};return e.forEach(function(e){var a=e.business_name;t.hasOwnProperty(a)?t[a].push({business_street_address:e.business_street_address+", "+e.business_city+", "+e.business_state+" "+e.business_zip,Position:e.shift_position,Tips:e.takehome,Hour:e.shift_length,Shift:e.shift_time,date:e.shift_date}):t[a]=[{business_street_address:e.business_street_address+", "+e.business_city+", "+e.business_state+" "+e.business_zip,Position:e.shift_position,Tips:e.takehome,Hour:e.shift_length,Shift:e.shift_time,date:e.shift_date}]}),t}(t)),t.map(function(e,t){return s.a.createElement("div",{className:"tipInfo"},s.a.createElement("h2",{className:"busTitle"},e.business_name),s.a.createElement("div",{className:"addr"},e.business_street_address+", "+e.business_city+", "+e.business_state+" "+e.business_zip),s.a.createElement("div",null,"Position: ",e.shift_position),s.a.createElement("div",null,"Tips : $",e.takehome),s.a.createElement("div",null,"Hours Worked : ",e.shift_length),s.a.createElement("div",null,"Work Shift : ",e.shift_time),s.a.createElement("div",null,"Date : ",e.shift_date))})},J=function(e){return s.a.createElement(g.a,null,s.a.createElement(g.a.Group,null,s.a.createElement(g.a.Label,null,"View Tips By Job"),s.a.createElement(g.a.Control,{as:"select",onChange:function(t){e.position(t)}},s.a.createElement("option",null,"All Position"),s.a.createElement("option",null,"Bartender"),s.a.createElement("option",null,"Server"),s.a.createElement("option",null,"Barback"),s.a.createElement("option",null,"Busser"),s.a.createElement("option",null,"Other"))))},Z=(a(360),a(89)),Q=function(e){var t=e.tipInfo,a=[];if("Business"===e.process){var n=Object(Z.averageTipsByBusiness)(t);a=Object.keys(n).map(function(e){return s.a.createElement("div",{className:"tipsByBusiness"},s.a.createElement("div",null,s.a.createElement("h2",{className:"busTitle"},n[e].business_name),s.a.createElement("div",{className:"addr"},n[e].business_street_address)),s.a.createElement("div",null,"Tips : $",Number.parseFloat(n[e].tipsPerHour).toFixed(2),"/Hour"))})}else if("Daily Average"===e.process){var i=Object(Z.averageTipsByBusinessDay)(t);a=Object.keys(i).map(function(e){return console.log(e),s.a.createElement("div",null,console.log(i[e]),s.a.createElement("div",{className:"dailyTipsAvg"},s.a.createElement("div",{className:"busTitle"},e),s.a.createElement("div",null,Number.parseFloat(i[e].Saturday.tipsPerHour).toFixed(2)),s.a.createElement("div",null,Number.parseFloat(i[e].Sunday.tipsPerHour).toFixed(2)),s.a.createElement("div",null,Number.parseFloat(i[e].Monday.tipsPerHour).toFixed(2)),s.a.createElement("div",null,Number.parseFloat(i[e].Tuesday.tipsPerHour).toFixed(2)),s.a.createElement("div",null,Number.parseFloat(i[e].Wednesday.tipsPerHour).toFixed(2)),s.a.createElement("div",null,Number.parseFloat(i[e].Thursday.tipsPerHour).toFixed(2)),s.a.createElement("div",null,Number.parseFloat(i[e].Friday.tipsPerHour).toFixed(2))))}),a=s.a.createElement("div",null,s.a.createElement("div",{className:"dayName dailyTipsAvg"},s.a.createElement("div",null,"Business Name"),s.a.createElement("div",null,"Saturday"),s.a.createElement("div",null,"Sunday"),s.a.createElement("div",null,"Monday"),s.a.createElement("div",null,"Tuesday"),s.a.createElement("div",null,"Wednesday"),s.a.createElement("div",null,"Thursday"),s.a.createElement("div",null,"Friday")),s.a.createElement("div",null,a))}return a},Y=function(e){return s.a.createElement(g.a,null,s.a.createElement(g.a.Group,null,s.a.createElement(g.a.Label,null,"View Average Tips By "),s.a.createElement(g.a.Control,{as:"select",onChange:function(t){e.process(t)}},s.a.createElement("option",null,"Business"),s.a.createElement("option",null,"Daily Average"),s.a.createElement("option",null,"Position"),s.a.createElement("option",null,"Neighborhood"),s.a.createElement("option",null,"Highest Average Tips"),s.a.createElement("option",null,"Lowest Average Tips"))))},K=(a(361),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleProcess=function(e){a.setState({processFilter:e.target.value})},a.handlePosition=function(e){a.setState({positionFilter:e.target.value})},a.state={detailList:!1,processFilter:"Business",positionFilter:"All Position"},a.handleProcess=a.handleProcess.bind(Object(E.a)(Object(E.a)(a))),a.handlePosition=a.handlePosition.bind(Object(E.a)(Object(E.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=s.a.createElement("div",null,s.a.createElement("button",{type:"primary",onClick:function(){e.setState({detailList:!1,showUserTips:!1})}},"View Average Tip Data"),s.a.createElement("button",{type:"primary",onClick:function(){e.setState({detailList:!0,showUserTips:!1})}},"View Detailed Tip Data"));return this.state.detailList?s.a.createElement("div",null,t,s.a.createElement(J,{position:this.handlePosition}),s.a.createElement(U,{tipInfo:this.props.tip_info,position:this.state.positionFilter})):s.a.createElement("div",null,t,s.a.createElement(Y,{process:this.handleProcess}),s.a.createElement(Q,{tipInfo:this.props.tip_info,process:this.state.processFilter}))}}]),t}(s.a.Component)),X={aws_project_region:"us-east-1",aws_content_delivery_bucket:"front-end-20190502100445-hostingbucket-phdev",aws_content_delivery_bucket_region:"us-east-1",aws_content_delivery_url:"http://front-end-20190502100445-hostingbucket-phdev.s3-website-us-east-1.amazonaws.com",aws_cognito_identity_pool_id:"us-east-1:c87a8d78-1ce2-42b7-8cd6-ef3e2c15495e",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_dEdKYWuRL",aws_user_pools_web_client_id:"1qvola46uieqbouj5qp72dsn65",oauth:{},aws_appsync_graphqlEndpoint:"https://5ucyrblvtjgsjoicvya2z4zp24.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS"},ee=a(39),te="subscription OnCreateTipEntry {\n  onCreateTipEntry {\n    id\n    user\n    shift_length\n    shift_time\n    shift_date\n    shift_position\n    takehome\n    business_name\n    business_street_address\n    business_city\n    business_state\n    business_zip\n    neighborhood\n  }\n}\n",ae=a(175),ne=a.n(ae);O.a.configure(X),O.a.configure(X);var se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleProcess=function(e){a.setState({processFilter:e.target.value})},a.handlePosition=function(e){a.setState({positionFilter:e.target.value})},a.handleSignOut=function(){w.Auth.signOut().then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.handleHomeView=function(){a.setState({showSignUp:!1,showListView:!1,showMapView:!0,detailList:!1,processFilter:"Business",positionFilter:"All Position",showMyTipsView:!1,search_query:""})},a.handleMapView=function(){a.setState({showMapView:!0,showListView:!1,showMyTipsView:!1,showSearchView:!1})},a.handleListView=function(){a.setState({showMapView:!1,showListView:!0,showMyTipsView:!1,showSearchView:!1})},a.handleMyTipsView=function(){a.setState({showMapView:!1,showListView:!1,showMyTipsView:!0,showSearchView:!1})},a.handleSearchQueryChange=function(e){a.setState({search_query:e.target.value})},a.handleSearchSubmit=function(){a.setState({showMapView:!1,showListView:!1,showMyTipsView:!1,showSearchView:!0})},a.onNewTipEntry=function(e,t){var a=Object.assign({},e);return a.listTipEntrys.items=e.listTipEntrys.items.concat([t.onCreateTipEntry]),a},a.state={curr_user_username:"",showListView:!1,showMapView:!0,showMyTipsView:!1,showSearchView:!1,detailList:!1,processFilter:"Business",positionFilter:"All Position"},a.handleProcess=a.handleProcess.bind(Object(E.a)(Object(E.a)(a))),a.handlePosition=a.handlePosition.bind(Object(E.a)(Object(E.a)(a))),a.handleMapView=a.handleMapView.bind(Object(E.a)(Object(E.a)(a))),a.handleListView=a.handleListView.bind(Object(E.a)(Object(E.a)(a))),a.handleMyTipsView=a.handleMyTipsView.bind(Object(E.a)(Object(E.a)(a))),a.handleSearchQueryChange=a.handleSearchQueryChange.bind(Object(E.a)(Object(E.a)(a))),a.handleSearchSubmit=a.handleSearchSubmit.bind(Object(E.a)(Object(E.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark(function e(){var t,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Auth.currentAuthenticatedUser();case 2:t=e.sent,a=t.username,this.setState({curr_user_username:a});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.search_query,a=s.a.createElement(N.a,{className:"bg-olive justify-content-between"},s.a.createElement(N.a.Brand,null,s.a.createElement("a",{href:"#",onClick:this.handleHomeView},s.a.createElement("img",{src:ne.a,width:"200",height:"64",className:"d-inline-block align-top",alt:"Pooled House logo"}))),s.a.createElement(F.a,{inline:!0},s.a.createElement(D.a,{value:t,type:"text",placeholder:"ex: upper manhattan",className:"mr-sm",onChange:this.handleSearchQueryChange}),s.a.createElement(q.a,{variant:"outline-light",onClick:this.handleSearchSubmit},s.a.createElement("span",null,"\ud83d\udd0d"))),s.a.createElement(R.a,null,s.a.createElement(q.a,{variant:"warning",onClick:this.handleMapView},"Map"),s.a.createElement(q.a,{variant:"warning",onClick:this.handleListView},"List")),s.a.createElement(z.a,null,s.a.createElement(q.a,{id:"ur_nav",onClick:this.handleMyTipsView},this.state.curr_user_username,"'s Tips"),s.a.createElement(q.a,{id:"ur_nav",onClick:this.handleSignOut},"Sign Out"))),n=s.a.createElement(ee.Connect,{query:Object(w.graphqlOperation)(T),subscription:Object(w.graphqlOperation)(te),onSubscriptionMsg:this.onNewTipEntry},function(e){var t=e.data.listTipEntrys,a=e.loading;return e.error?s.a.createElement("h3",null,"Error"):a||!t?s.a.createElement("h3",null,"Loading..."):s.a.createElement(K,{tip_info:t.items})}),i=s.a.createElement(ee.Connect,{query:Object(w.graphqlOperation)(T),subscription:Object(w.graphqlOperation)(te),onSubscriptionMsg:this.onNewTipEntry},function(e){var t=e.data.listTipEntrys,a=e.loading;return e.error?s.a.createElement("h3",null,"Error"):a||!t?s.a.createElement("h3",null,"Loading..."):s.a.createElement("div",null,s.a.createElement(k,{tip_info:t?t.items:[]}))}),r=s.a.createElement("div",null,s.a.createElement(C,null),s.a.createElement(ee.Connect,{query:Object(w.graphqlOperation)(T),subscription:Object(w.graphqlOperation)(te),onSubscriptionMsg:this.onNewTipEntry},function(t){var a=t.data.listTipEntrys,n=t.loading;return t.error?s.a.createElement("h3",null,"Error"):n||!a?s.a.createElement("h3",null,"Loading..."):s.a.createElement($,{tipInfo:a.items,user:e.state.curr_user_username})})),l=s.a.createElement(ee.Connect,{query:Object(w.graphqlOperation)(T),subscription:Object(w.graphqlOperation)(te),onSubscriptionMsg:this.onNewTipEntry},function(t){var a=t.data.listTipEntrys,n=t.loading;return t.error?s.a.createElement("h3",null,"Error"):n||!a?s.a.createElement("h3",null,"Loading..."):s.a.createElement("div",null,s.a.createElement(L,{tip_info:a?a.items:[],search_query:e.state.search_query}))}),o="";return o=this.state.showMapView?i:this.state.showListView?n:this.state.showSearchView?l:r,s.a.createElement("div",{className:"App"},s.a.createElement("div",{id:"home"}," ",a," "),s.a.createElement("div",{className:"tipsView"}," ",o," "))}}]),t}(n.Component),ie=Object(ee.withAuthenticator)(se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},70:function(e,t){},88:function(e,t){var a=function(e){return e<15?"#fc8d59":e<30?"#d73027":e<45?"#d9ef8b":e<60?"#91cf60":"#1a9850"};t.aTBNMasterParse=function(e,t,a,n){var s=new Object;return e.forEach(function(e){var i=new Date(e.shift_date).getDay();if(i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][i],("All"==t||i==t)&&("All"==a||e.shift_time==a)&&("All"==n||e.shift_position==n)){var r=e.neighborhood;if(s.hasOwnProperty(r)){var l=s[r].totalHour+e.shift_length;s[r].tipsPerHour=s[r].tipsPerHour*s[r].totalHour/l+e.takehome/l,s[r].totalHour=l}else s[r]={neighborhood:r,tipsPerHour:e.takehome/e.shift_length,totalHour:e.shift_length}}}),s},t.averageTipsClean=function(e){var t=[],n={};for(var s in e)(n={}).name=e[s].neighborhood,n.values=[],n.values.push({label:"Avg Hourly $",val:Math.floor(e[s].tipsPerHour)}),n.color=a(n.values[0].val),t.push(n);return t},t.getColor=a},89:function(e,t){t.averageTipsByBusiness=function(e){var t={};return e.forEach(function(e){var a=e.business_name;if(t.hasOwnProperty(a)){var n=t[a].totalHour+e.shift_length;t[a].tipsPerHour=t[a].tipsPerHour*t[a].totalHour/n+e.takehome/n,t[a].totalHour=n}else t[a]={business_name:a,business_street_address:e.business_street_address+", "+e.business_city+", "+e.business_state+" "+e.business_zip,tipsPerHour:e.takehome/e.shift_length,totalHour:e.shift_length}}),t};t.averageTipsByBusinessDay=function(e){var t={};return e.forEach(function(e){var a=e.business_name,n=function(e){var t=e.getDay();return 0===t?"Sunday":1===t?"Monday":2===t?"Tuesday":3===t?"Wednesday":4===t?"Thursday":5===t?"Friday":6===t?"Sunday":void 0}(new Date(e.shift_date));if(t.hasOwnProperty(a)){var s=t[a][n].totalHour+e.shift_length;t[a][n].tipsPerHour=t[a][n].tipsPerHour*t[a][n].totalHour/s+e.takehome/s,t[a][n].totalHour=s}else{var i={tipsPerHour:e.takehome/e.shift_length,totalHour:e.shift_length};t[a]={Saturday:{tipsPerHour:0,totalHour:0},Sunday:{tipsPerHour:0,totalHour:0},Monday:{tipsPerHour:0,totalHour:0},Tuesday:{tipsPerHour:0,totalHour:0},Wednesday:{tipsPerHour:0,totalHour:0},Thursday:{tipsPerHour:0,totalHour:0},Friday:{tipsPerHour:0,totalHour:0}},t[a][n]=i,t[a].address=e.business_street_address+", "+e.business_city+", "+e.business_state+" "+e.business_zip}}),t},t.averageTipsByPosition=function(e){var t={};return e.forEach(function(e){var a=e.business_name,n=e.shift_position;if(t.hasOwnProperty(a)){var s=t[a][n].totalHour+e.shift_length;t[a][n].tipsPerHour=t[a][n].tipsPerHour*t[a][n].totalHour/s+e.takehome/s,t[a][n].totalHour=s}else{var i={tipsPerHour:e.takehome/e.shift_length,totalHour:e.shift_length};t[a]={Bartender:{tipsPerHour:0,totalHour:0},Server:{tipsPerHour:0,totalHour:0},Barback:{tipsPerHour:0,totalHour:0},Busser:{tipsPerHour:0,totalHour:0},Other:{tipsPerHour:0,totalHour:0}},t[a][n]=i,t[a].address=e.business_street_address+", "+e.business_city+", "+e.business_state+" "+e.business_zip}}),t},t.averageTipsByZipCode=function(e){var t={},a={};return e.forEach(function(e){var n=e.business_zip;if(t.hasOwnProperty(n)){var s=t[n].totalHour+e.shift_length;a[n].add(e.business_name),t[n].business_count=a[n].size,t[n].tipsPerHour=t[n].tipsPerHour*t[n].totalHour/s+e.takehome/s,t[n].totalHour=s}else a[n]=new Set,a[n].add(e.business_name),t[n]={business_count:1,tipsPerHour:e.takehome/e.shift_length,totalHour:e.shift_length}}),t},t.averageTipsByPositionAndShift=function(e){}}},[[179,1,2]]]);
//# sourceMappingURL=main.bb8c0d04.chunk.js.map